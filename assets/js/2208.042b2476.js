"use strict";(self.webpackChunknew_website=self.webpackChunknew_website||[]).push([[2208],{18430:(e,n,t)=>{t.d(n,{V:()=>m,v:()=>s});var a=t(96540);function m(e){let{version:n}=e;return a.createElement("span",{class:"version added",title:"Added in "+n},"\u2265",n)}function s(e){let{version:n}=e;return a.createElement("span",{class:"version removed",title:"Removed after "+n},"\u2264",n)}},52208:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>u,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=t(58168),m=(t(96540),t(15680)),s=(t(60681),t(18430));const i={title:"Defining enums",slug:"/enums/defining-enums"},u=void 0,o={unversionedId:"enums/defining-enums",id:"enums/defining-enums",title:"Defining enums",description:"Learn how to define a Flow Enum. Looking for a quick overview? Check out the Quickstart Guide.",source:"@site/docs/enums/defining-enums.md",sourceDirName:"enums",slug:"/enums/defining-enums",permalink:"/en/docs/enums/defining-enums",draft:!1,editUrl:"https://github.com/facebook/flow/edit/main/website/docs/enums/defining-enums.md",tags:[],version:"current",frontMatter:{title:"Defining enums",slug:"/enums/defining-enums"},sidebar:"docsSidebar",previous:{title:"Enabling enums in your project",permalink:"/en/docs/enums/enabling-enums"},next:{title:"Using enums",permalink:"/en/docs/enums/using-enums"}},r={},l=[{value:"Consistent member type",id:"toc-consistent-member-type",level:4},{value:"Member name starting character",id:"toc-member-name-starting-character",level:4},{value:"Unique member names",id:"toc-unique-member-names",level:4},{value:"Literal member values",id:"toc-literal-member-values",level:4},{value:"Unique member values",id:"toc-unique-member-values",level:4},{value:"Fixed at declaration",id:"toc-fixed-at-declaration",level:4},{value:"String enums",id:"toc-string-enums",level:2},{value:"Number enums",id:"toc-number-enums",level:2},{value:"Boolean enums",id:"toc-boolean-enums",level:2},{value:"Symbol enums",id:"toc-symbol-enums",level:2},{value:"Flow Enums with Unknown Members",id:"toc-flow-enums-with-unknown-members",level:2},{value:"Enums at runtime",id:"toc-enums-at-runtime",level:2},{value:"Style guide",id:"toc-style-guide",level:2},{value:"Naming enums",id:"toc-naming-enums",level:4},{value:"Naming enum members",id:"toc-naming-enum-members",level:4},{value:"Don&#39;t create a separate type",id:"toc-don-t-create-a-separate-type",level:4},{value:"Use dot access for accessing members",id:"toc-use-dot-access-for-accessing-members",level:4}],d={toc:l};function c(e){let{components:n,...t}=e;return(0,m.mdx)("wrapper",(0,a.A)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,m.mdx)("p",null,"Learn how to define a Flow Enum. Looking for a quick overview? Check out the ",(0,m.mdx)("a",{parentName:"p",href:"../#toc-quickstart"},"Quickstart Guide"),"."),(0,m.mdx)("p",null,"An enum declaration is a statement. Its name defines both a value (from which to ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-accessing-enum-members"},"access its members"),",\nand call its ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-methods"},"methods"),"), and a type (which can be ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-using-as-a-type-annotation"},"used as an annotation")," for the type of its members)."),(0,m.mdx)("p",null,"Enum members must all be of the same type, and those members can be one of four types:\n",(0,m.mdx)("a",{parentName:"p",href:"#toc-string-enums"},"string"),", ",(0,m.mdx)("a",{parentName:"p",href:"#toc-number-enums"},"number"),", ",(0,m.mdx)("a",{parentName:"p",href:"#toc-boolean-enums"},"boolean"),", and ",(0,m.mdx)("a",{parentName:"p",href:"#toc-symbol-enums"},"symbol"),"."),(0,m.mdx)("p",null,"Every enum has some common properties:"),(0,m.mdx)("h4",{id:"toc-consistent-member-type"},"Consistent member type"),(0,m.mdx)("p",null,"The type of the enum members must be consistent. For example, you can\u2019t mix ",(0,m.mdx)("inlineCode",{parentName:"p"},"string")," and ",(0,m.mdx)("inlineCode",{parentName:"p"},"number")," members in one enum.\nThey must all be strings, numbers, or booleans (you do not provide values for ",(0,m.mdx)("inlineCode",{parentName:"p"},"symbol")," based enums)."),(0,m.mdx)("h4",{id:"toc-member-name-starting-character"},"Member name starting character"),(0,m.mdx)("p",null,"Member names must be valid identifiers (e.g. not start with numbers), and must not start with lowercase ",(0,m.mdx)("inlineCode",{parentName:"p"},"a")," through ",(0,m.mdx)("inlineCode",{parentName:"p"},"z"),".\nNames starting with those letters are reserved for enum ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-methods"},"methods")," (e.g. ",(0,m.mdx)("inlineCode",{parentName:"p"},"Status.cast(...)"),")."),(0,m.mdx)("p",null,"This is not allowed:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:'[{"startLine":2,"startColumn":3,"endLine":2,"endColumn":8,"description":"Enum member names cannot start with lowercase \'a\' through \'z\'. Instead of using `active`, consider using `Active`, in enum `Status`."}]','[{"startLine":2,"startColumn":3,"endLine":2,"endColumn":8,"description":"Enum':!0,member:!0,names:!0,cannot:!0,start:!0,with:!0,lowercase:!0,"'a'":!0,through:!0,"'z'.":!0,Instead:!0,of:!0,using:!0,"`active`,":!0,consider:!0,"`Active`,":!0,in:!0,enum:!0,'`Status`."}]':!0},"enum Status {\n  active, // Error: names can't start with lowercase 'a' through 'z'\n}\n")),(0,m.mdx)("h4",{id:"toc-unique-member-names"},"Unique member names"),(0,m.mdx)("p",null,"Member names must be unique. This is not allowed:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:'[{"startLine":3,"startColumn":3,"endLine":3,"endColumn":8,"description":"Enum member names need to be unique, but the name `Active` has already been used before in enum `Status`."}]','[{"startLine":3,"startColumn":3,"endLine":3,"endColumn":8,"description":"Enum':!0,member:!0,names:!0,need:!0,to:!0,be:!0,"unique,":!0,but:!0,the:!0,name:!0,"`Active`":!0,has:!0,already:!0,been:!0,used:!0,before:!0,in:!0,enum:!0,'`Status`."}]':!0},"enum Status {\n  Active,\n  Active, // Error: the name 'Active` was already used above\n}\n")),(0,m.mdx)("h4",{id:"toc-literal-member-values"},"Literal member values"),(0,m.mdx)("p",null,"If you specify a value for an enum member, it must be a literal (string, number, or boolean), not a computed value. This is not allowed:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:'[{"startLine":2,"startColumn":12,"endLine":2,"endColumn":12,"description":"The enum member initializer for `Active` needs to be a literal (either a boolean, number, or string) in enum `Status`."}]','[{"startLine":2,"startColumn":12,"endLine":2,"endColumn":12,"description":"The':!0,enum:!0,member:!0,initializer:!0,for:!0,"`Active`":!0,needs:!0,to:!0,be:!0,a:!0,literal:!0,"(either":!0,"boolean,":!0,"number,":!0,or:!0,"string)":!0,in:!0,'`Status`."}]':!0},"enum Status {\n  Active = 1 + 2, // Error: the value must be a literal\n}\n")),(0,m.mdx)("h4",{id:"toc-unique-member-values"},"Unique member values"),(0,m.mdx)("p",null,"Member values must be unique. This is not allowed:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:'[{"startLine":3,"startColumn":12,"endLine":3,"endColumn":12,"description":"Invalid enum member initializer. Initializers need to be unique, but this one has already been used for a previous member [1] of enum `Status` [2]. [duplicate-enum-init]"}]','[{"startLine":3,"startColumn":12,"endLine":3,"endColumn":12,"description":"Invalid':!0,enum:!0,member:!0,"initializer.":!0,Initializers:!0,need:!0,to:!0,be:!0,"unique,":!0,but:!0,this:!0,one:!0,has:!0,already:!0,been:!0,used:!0,for:!0,a:!0,previous:!0,"[1]":!0,of:!0,"`Status`":!0,"[2].":!0,'[duplicate-enum-init]"}]':!0},"enum Status {\n  Active = 1,\n  Paused = 1, // Error: the value has already been used above\n}\n")),(0,m.mdx)("h4",{id:"toc-fixed-at-declaration"},"Fixed at declaration"),(0,m.mdx)("p",null,"An enum is not extendable, so you can\u2019t add new members after the fact while your code is running.\nAt runtime, enum member values can\u2019t change and the members can\u2019t be deleted. In this way they act like a frozen object."),(0,m.mdx)("h2",{id:"toc-string-enums"},"String enums"),(0,m.mdx)("p",null,"String enums are the default. If you don\u2019t specify an ",(0,m.mdx)("inlineCode",{parentName:"p"},"of")," clause (e.g. ",(0,m.mdx)("inlineCode",{parentName:"p"},"enum Status of number {}"),", ",(0,m.mdx)("inlineCode",{parentName:"p"},"enum Status of symbol {}"),", etc.),\nand do not specify any values (e.g. ",(0,m.mdx)("inlineCode",{parentName:"p"},"enum Status {Active = 1}"),") then the definition will default to be a string enum."),(0,m.mdx)("p",null,"Unlike the other types of enums (e.g. number enums), you can either specify values for the enum members, or not specify values and allow them to be defaulted."),(0,m.mdx)("p",null,"If you don\u2019t specify values for your enum members, they default to strings which are the same as the name of your members."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status {\n  Active,\n  Paused,\n  Off,\n}\n")),(0,m.mdx)("p",null,"Is the same as:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status {\n  Active = 'Active',\n  Paused = 'Paused',\n  Off = 'Off',\n}\n")),(0,m.mdx)("p",null,"You must consistently either specify the value for all members, or none of the members. This is not allowed:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:'[{"startLine":4,"startColumn":3,"endLine":4,"endColumn":5,"description":"String enum members need to consistently either all use initializers, or use no initializers, in enum Status."}]','[{"startLine":4,"startColumn":3,"endLine":4,"endColumn":5,"description":"String':!0,enum:!0,members:!0,need:!0,to:!0,consistently:!0,either:!0,all:!0,use:!0,"initializers,":!0,or:!0,no:!0,in:!0,'Status."}]':!0},"enum Status {\n  Active = 'active',\n  Paused = 'paused',\n  Off, // Error: you must specify a value for all members (or none of the members)\n}\n")),(0,m.mdx)("p",null,"Optionally, you can use an ",(0,m.mdx)("inlineCode",{parentName:"p"},"of")," clause:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status of string {\n  Active,\n  Paused,\n  Off,\n}\n")),(0,m.mdx)("p",null,"We infer the type of the enum based on its values if there is no ",(0,m.mdx)("inlineCode",{parentName:"p"},"of")," clause.\nUsing an ",(0,m.mdx)("inlineCode",{parentName:"p"},"of")," clause will ensure that if you use incorrect values, the error message will always interpret it as an enum of that type."),(0,m.mdx)("h2",{id:"toc-number-enums"},"Number enums"),(0,m.mdx)("p",null,"Number enums must have their values specified."),(0,m.mdx)("p",null,"You can specify a number enum like this:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status {\n  Active = 1,\n  Paused = 2,\n  Off = 3,\n}\n")),(0,m.mdx)("p",null,"Optionally, you can use an ",(0,m.mdx)("inlineCode",{parentName:"p"},"of")," clause.\nThis does not affect the type-checking behavior of a valid Flow Enum,\nit just ensures that all enum members are ",(0,m.mdx)("inlineCode",{parentName:"p"},"number"),"s as the definition site."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status of number {\n  Active = 1,\n  Paused = 2,\n  Off = 3,\n}\n")),(0,m.mdx)("p",null,"We do not allow defaulting of number enums (unlike some other languages), because if a member from the middle of such an enum is added or removed,\nall subsequent member values would be changed. This can be unsafe (e.g. push safety, serialization, logging).\nRequiring the user to be explicit about the renumbering makes them think about the consequences of doing so."),(0,m.mdx)("p",null,"The value provided must be a number literal. Negative numbers are not literals in JS, but since Flow version 0.234 we allow negative number initializers as well."),(0,m.mdx)("p",null,"Example ",(0,m.mdx)(s.V,{version:"0.234",mdxType:"SinceVersion"}),":"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status {\n  Active = 1,\n  Paused = 0,\n  Off = -1,\n}\n")),(0,m.mdx)("h2",{id:"toc-boolean-enums"},"Boolean enums"),(0,m.mdx)("p",null,"Boolean enums must have their values specified. Boolean enums can only have two members."),(0,m.mdx)("p",null,"You can specify a boolean enum like this:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status {\n  Active = true,\n  Off = false,\n}\n")),(0,m.mdx)("p",null,"Optionally, you can use an ",(0,m.mdx)("inlineCode",{parentName:"p"},"of")," clause.\nThis does not affect the type-checking behavior of a valid Flow Enum,\nit just ensures that all enum members are ",(0,m.mdx)("inlineCode",{parentName:"p"},"boolean"),"s as the definition site."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status of boolean {\n  Active = true,\n  Off = false,\n}\n")),(0,m.mdx)("h2",{id:"toc-symbol-enums"},"Symbol enums"),(0,m.mdx)("p",null,"Symbol enums can\u2019t have their values specified. Each member is a new symbol, with the symbol description set to the name of the member.\nYou must use the ",(0,m.mdx)("inlineCode",{parentName:"p"},"of")," clause with symbol enums, to distinguish them from string enums, which are the default when omitting values."),(0,m.mdx)("p",null,"You can specify a symbol enum like this:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"enum Status of symbol {\n  Active,\n  Paused,\n  Off,\n}\n")),(0,m.mdx)("h2",{id:"toc-flow-enums-with-unknown-members"},"Flow Enums with Unknown Members"),(0,m.mdx)("p",null,'You can specify that your enum contains "unknown members" by adding a ',(0,m.mdx)("inlineCode",{parentName:"p"},"...")," to the end of the declaration:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-flow",metastring:'[{"startLine":9,"startColumn":9,"endLine":9,"endColumn":14,"description":"Missing `default` case in the check of `status`. `Status` [1] has unknown members (specified using `...`) so checking it requires the use of a `default` case to cover those members. [invalid-exhaustive-check]"}]','[{"startLine":9,"startColumn":9,"endLine":9,"endColumn":14,"description":"Missing':!0,"`default`":!0,case:!0,in:!0,the:!0,check:!0,of:!0,"`status`.":!0,"`Status`":!0,"[1]":!0,has:!0,unknown:!0,members:!0,"(specified":!0,using:!0,"`...`)":!0,so:!0,checking:!0,it:!0,requires:!0,use:!0,a:!0,to:!0,cover:!0,those:!0,"members.":!0,'[invalid-exhaustive-check]"}]':!0},"enum Status {\n  Active,\n  Paused,\n  Off,\n  ...\n}\nconst status: Status = Status.Active;\n\nswitch (status) {\n  case Status.Active: break;\n  case Status.Paused: break;\n  case Status.Off: break;\n}\n")),(0,m.mdx)("p",null,"When this is used, Flow will always require a ",(0,m.mdx)("inlineCode",{parentName:"p"},"default")," when ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-exhaustive-checking-with-unknown-members"},"switching over the enum"),",\neven if all known enum members are checked. The ",(0,m.mdx)("inlineCode",{parentName:"p"},"default"),' checks for "unknown" members you haven\'t explicitly listed.'),(0,m.mdx)("p",null,"This feature is useful when an enum value crosses some boundary and the enum declaration on each side may have different memebers.\nFor example, an enum definition which is used on both the client and the server: an enum member could be added, which would be immediately seen by the server,\nbut could be sent to an outdated client which isn't yet aware of the new member."),(0,m.mdx)("p",null,"One use case for this would be the JS output of ",(0,m.mdx)("a",{parentName:"p",href:"https://graphql.org/learn/schema/#enumeration-types"},"GraphQL Enums"),":\nFlow Enums with unknown members could be used instead of the added ",(0,m.mdx)("inlineCode",{parentName:"p"},"'%future added value'")," member."),(0,m.mdx)("h2",{id:"toc-enums-at-runtime"},"Enums at runtime"),(0,m.mdx)("p",null,"Enums exist as values at runtime. We use a ",(0,m.mdx)("a",{parentName:"p",href:"https://www.npmjs.com/package/babel-plugin-transform-flow-enums"},"Babel transform")," to transform\nFlow Enum declarations into calls to the ",(0,m.mdx)("a",{parentName:"p",href:"https://www.npmjs.com/package/flow-enums-runtime"},"enums runtime")," (read more in the ",(0,m.mdx)("a",{parentName:"p",href:"../enabling-enums/"},"enabling enums documentation"),").\nWe use a runtime so all enums can share an implementation of the enum ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-methods"},"methods"),"."),(0,m.mdx)("p",null,"We use ",(0,m.mdx)("inlineCode",{parentName:"p"},"Object.create(null)")," for enums' prototype (which has the enum methods), so properties in ",(0,m.mdx)("inlineCode",{parentName:"p"},"Object.prototype")," will not pollute enums.\nThe only own properties of the enum object are the enum members. The members are non-enumerable (use the ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-members"},(0,m.mdx)("inlineCode",{parentName:"a"},".members()")," method")," for that).\nThe entire enum object is frozen, so it cannot be modified."),(0,m.mdx)("h2",{id:"toc-style-guide"},"Style guide"),(0,m.mdx)("h4",{id:"toc-naming-enums"},"Naming enums"),(0,m.mdx)("p",null,"We encourage you to define enum names in ",(0,m.mdx)("inlineCode",{parentName:"p"},"PascalCase"),", following the naming conventions of other types. All caps names (e.g. ",(0,m.mdx)("inlineCode",{parentName:"p"},"STATUS"),") are harder to read and discouraged."),(0,m.mdx)("p",null,"We encourage you to name enums in the singular. E.g. ",(0,m.mdx)("inlineCode",{parentName:"p"},"Status"),", not ",(0,m.mdx)("inlineCode",{parentName:"p"},"Statuses"),". Just like the type of ",(0,m.mdx)("inlineCode",{parentName:"p"},"true")," and ",(0,m.mdx)("inlineCode",{parentName:"p"},"false")," is ",(0,m.mdx)("inlineCode",{parentName:"p"},"boolean"),", not ",(0,m.mdx)("inlineCode",{parentName:"p"},"booleans"),"."),(0,m.mdx)("p",null,"Don't append ",(0,m.mdx)("inlineCode",{parentName:"p"},"Enum")," to the name (e.g. don't name your enum ",(0,m.mdx)("inlineCode",{parentName:"p"},"StatusEnum"),"). This is unnecessary, just like we don't append ",(0,m.mdx)("inlineCode",{parentName:"p"},"Class")," to every class name, and ",(0,m.mdx)("inlineCode",{parentName:"p"},"Type")," to every type alias."),(0,m.mdx)("h4",{id:"toc-naming-enum-members"},"Naming enum members"),(0,m.mdx)("p",null,"We encourage you to define enum member names in ",(0,m.mdx)("inlineCode",{parentName:"p"},"PascalCase"),". All caps names (e.g. ",(0,m.mdx)("inlineCode",{parentName:"p"},"ACTIVE"),") are harder to read and discouraged.\nAdditionally, since Flow enforces that these are constants, you don't need to use the name to signal that intent to the programmer."),(0,m.mdx)("p",null,"See also: the rule about ",(0,m.mdx)("a",{parentName:"p",href:"#toc-member-name-starting-character"},"enum member name starting characters"),"."),(0,m.mdx)("h4",{id:"toc-don-t-create-a-separate-type"},"Don't create a separate type"),(0,m.mdx)("p",null,"A Flow Enum, like a class, is both a type and a value. You don't need to create a separate type alias, you can use the enum name."),(0,m.mdx)("h4",{id:"toc-use-dot-access-for-accessing-members"},"Use dot access for accessing members"),(0,m.mdx)("p",null,"Prefer ",(0,m.mdx)("inlineCode",{parentName:"p"},"Status.Active")," vs. ",(0,m.mdx)("inlineCode",{parentName:"p"},"const {Active} = Status;"),". This makes it easier find uses of the enum with text search, and makes it clearer to the reader what enum is involved.\nAdditionally, this is required for ",(0,m.mdx)("a",{parentName:"p",href:"../using-enums/#toc-exhaustively-checking-enums-with-a-switch"},"switch statements involving enums"),"."))}c.isMDXComponent=!0}}]);