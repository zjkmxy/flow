"use strict";(self.webpackChunknew_website=self.webpackChunknew_website||[]).push([[1393],{19365:(e,a,n)=>{n.r(a),n.d(a,{default:()=>o});var t=n(96540),l=n(20053);const r="tabItem_Ymn6";function o(e){let{children:a,hidden:n,className:o}=e;return t.createElement("div",{role:"tabpanel",className:(0,l.default)(r,o),hidden:n},a)}},11470:(e,a,n)=>{n.r(a),n.d(a,{default:()=>N});var t=n(58168),l=n(96540),r=n(20053),o=n(23104),s=n(72681),u=n(57485),d=n(31682),p=n(89466);function i(e){return function(e){var a,n;return null!=(a=null==(n=l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?a:[]}(e).map((e=>{let{props:{value:a,label:n,attributes:t,default:l}}=e;return{value:a,label:n,attributes:t,default:l}}))}function m(e){const{values:a,children:n}=e;return(0,l.useMemo)((()=>{const e=null!=a?a:i(n);return function(e){const a=(0,d.X)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error('Docusaurus error: Duplicate values "'+a.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[a,n])}function c(e){let{value:a,tabValues:n}=e;return n.some((e=>e.value===a))}function b(e){let{queryString:a=!1,groupId:n}=e;const t=(0,s.W6)(),r=function(e){let{queryString:a=!1,groupId:n}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:a,groupId:n});return[(0,u.aZ)(r),(0,l.useCallback)((e=>{if(!r)return;const a=new URLSearchParams(t.location.search);a.set(r,e),t.replace({...t.location,search:a.toString()})}),[r,t])]}function f(e){const{defaultValue:a,queryString:n=!1,groupId:t}=e,r=m(e),[o,s]=(0,l.useState)((()=>function(e){var a;let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!c({value:n,tabValues:t}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+t.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const l=null!=(a=t.find((e=>e.default)))?a:t[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:a,tabValues:r}))),[u,d]=b({queryString:n,groupId:t}),[i,f]=function(e){let{groupId:a}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(a),[t,r]=(0,p.Dv)(n);return[t,(0,l.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:t}),x=(()=>{const e=null!=u?u:i;return c({value:e,tabValues:r})?e:null})();(0,l.useLayoutEffect)((()=>{x&&s(x)}),[x]);return{selectedValue:o,selectValue:(0,l.useCallback)((e=>{if(!c({value:e,tabValues:r}))throw new Error("Can't select invalid tab value="+e);s(e),d(e),f(e)}),[d,f,r]),tabValues:r}}var x=n(92303);const h="tabList__CuJ",y="tabItem_LNqP";function g(e){let{className:a,block:n,selectedValue:s,selectValue:u,tabValues:d}=e;const p=[],{blockElementScrollPositionUntilNextRender:i}=(0,o.a_)(),m=e=>{const a=e.currentTarget,n=p.indexOf(a),t=d[n].value;t!==s&&(i(a),u(t))},c=e=>{var a;let n=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{var t;const a=p.indexOf(e.currentTarget)+1;n=null!=(t=p[a])?t:p[0];break}case"ArrowLeft":{var l;const a=p.indexOf(e.currentTarget)-1;n=null!=(l=p[a])?l:p[p.length-1];break}}null==(a=n)||a.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.default)("tabs",{"tabs--block":n},a)},d.map((e=>{let{value:a,label:n,attributes:o}=e;return l.createElement("li",(0,t.A)({role:"tab",tabIndex:s===a?0:-1,"aria-selected":s===a,key:a,ref:e=>p.push(e),onKeyDown:c,onClick:m},o,{className:(0,r.default)("tabs__item",y,null==o?void 0:o.className,{"tabs__item--active":s===a})}),null!=n?n:a)})))}function v(e){let{lazy:a,children:n,selectedValue:t}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(a){const e=r.find((e=>e.props.value===t));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},r.map(((e,a)=>(0,l.cloneElement)(e,{key:a,hidden:e.props.value!==t}))))}function w(e){const a=f(e);return l.createElement("div",{className:(0,r.default)("tabs-container",h)},l.createElement(g,(0,t.A)({},e,a)),l.createElement(v,(0,t.A)({},e,a)))}function N(e){const a=(0,x.default)();return l.createElement(w,(0,t.A)({key:String(a)},e))}},71393:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>p,contentTitle:()=>u,default:()=>c,frontMatter:()=>s,metadata:()=>d,toc:()=>i});var t=n(58168),l=(n(96540),n(15680)),r=(n(60681),n(11470)),o=n(19365);const s={title:"Installation",slug:"/install"},u=void 0,d={unversionedId:"install",id:"install",title:"Installation",description:"Setup Compiler",source:"@site/docs/install.md",sourceDirName:".",slug:"/install",permalink:"/en/docs/install",draft:!1,editUrl:"https://github.com/facebook/flow/edit/main/website/docs/install.md",tags:[],version:"current",frontMatter:{title:"Installation",slug:"/install"},sidebar:"docsSidebar",previous:{title:"Getting Started",permalink:"/en/docs/getting-started"},next:{title:"Usage",permalink:"/en/docs/usage"}},p={},i=[{value:"Setup Compiler",id:"setup-compiler",level:2},{value:"Setup Flow",id:"setup-flow",level:2},{value:"Add a <code>devDependency</code> on the <code>flow-bin</code> npm package",id:"add-a-devdependency-on-the-flow-bin-npm-package",level:3},{value:"Add a <code>&quot;flow&quot;</code> script to your <code>package.json</code>",id:"add-a-flow-script-to-your-packagejson",level:3},{value:"Run Flow",id:"run-flow",level:3},{value:"Setup ESLint",id:"setup-eslint",level:2}],m={toc:i};function c(e){let{components:a,...n}=e;return(0,l.mdx)("wrapper",(0,t.A)({},m,n,{components:a,mdxType:"MDXLayout"}),(0,l.mdx)("h2",{id:"setup-compiler"},"Setup Compiler"),(0,l.mdx)("p",null,"First you'll need to setup a compiler to strip away Flow types. You can\nchoose between ",(0,l.mdx)("a",{parentName:"p",href:"http://babeljs.io/"},"Babel")," and\n",(0,l.mdx)("a",{parentName:"p",href:"https://github.com/facebook/flow/tree/master/packages/flow-remove-types"},"flow-remove-types"),"."),(0,l.mdx)(r.default,{defaultValue:"babel",values:[{label:"Babel",value:"babel"},{label:"flow-remove-types",value:"flow-remove-types"}],mdxType:"Tabs"},(0,l.mdx)(o.default,{value:"babel",mdxType:"TabItem"},(0,l.mdx)("p",null,(0,l.mdx)("a",{parentName:"p",href:"http://babeljs.io/"},"Babel")," is a compiler for JavaScript code that has\nsupport for Flow. Babel will take your Flow code and strip out any type\nannotations. If you already use Babel in your project, see ",(0,l.mdx)("a",{parentName:"p",href:"../tools/babel"},"using Babel"),"."),(0,l.mdx)("p",null,"First install ",(0,l.mdx)("inlineCode",{parentName:"p"},"@babel/core"),", ",(0,l.mdx)("inlineCode",{parentName:"p"},"@babel/cli"),", ",(0,l.mdx)("inlineCode",{parentName:"p"},"@babel/preset-flow"),", and ",(0,l.mdx)("inlineCode",{parentName:"p"},"babel-plugin-syntax-hermes-parser")," with\neither ",(0,l.mdx)("a",{parentName:"p",href:"https://yarnpkg.com/"},"Yarn")," or ",(0,l.mdx)("a",{parentName:"p",href:"https://www.npmjs.com/"},"npm"),"."),(0,l.mdx)(r.default,{groupId:"npm2yarn",mdxType:"Tabs"},(0,l.mdx)(o.default,{value:"npm",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"npm install --save-dev @babel/core @babel/cli @babel/preset-flow babel-plugin-syntax-hermes-parser\n"))),(0,l.mdx)(o.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"yarn add --dev @babel/core @babel/cli @babel/preset-flow babel-plugin-syntax-hermes-parser\n")))),(0,l.mdx)("p",null,"Next you need to create a ",(0,l.mdx)("inlineCode",{parentName:"p"},".babelrc")," file at the root of your project with the ",(0,l.mdx)("inlineCode",{parentName:"p"},"@babel/preset-flow")," preset and ",(0,l.mdx)("inlineCode",{parentName:"p"},"babel-plugin-syntax-hermes-parser")," plugin."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "presets": ["@babel/preset-flow"],\n  "plugins": ["babel-plugin-syntax-hermes-parser"],\n}\n')),(0,l.mdx)("p",null,"If you then put all your source files in a ",(0,l.mdx)("inlineCode",{parentName:"p"},"src")," directory you can compile them\nto another directory by running:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"./node_modules/.bin/babel src/ -d lib/\n")),(0,l.mdx)("p",null,"You can add this to your ",(0,l.mdx)("inlineCode",{parentName:"p"},"package.json")," scripts easily, alongside your ",(0,l.mdx)("inlineCode",{parentName:"p"},'"devDependencies"')," on Babel."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "my-project",\n  "main": "lib/index.js",\n  "scripts": {\n    "build": "babel src/ -d lib/",\n    "prepublish": "yarn run build"\n  }\n}\n')),(0,l.mdx)("blockquote",null,(0,l.mdx)("p",{parentName:"blockquote"},(0,l.mdx)("strong",{parentName:"p"},"Note:")," You'll probably want to add a ",(0,l.mdx)("inlineCode",{parentName:"p"},"prepublish")," script that runs this\ntransform as well, so that it runs before you publish your code to the npm\nregistry."))),(0,l.mdx)(o.default,{value:"flow-remove-types",mdxType:"TabItem"},(0,l.mdx)("p",null,(0,l.mdx)("a",{parentName:"p",href:"https://github.com/facebook/flow/tree/master/packages/flow-remove-types"},"flow-remove-types")," is a small\nCLI tool for stripping Flow type annotations from files. It's a lighter-weight\nalternative to Babel for projects that don't need everything Babel provides."),(0,l.mdx)("p",null,"First install ",(0,l.mdx)("inlineCode",{parentName:"p"},"flow-remove-types")," with either\n",(0,l.mdx)("a",{parentName:"p",href:"https://yarnpkg.com/"},"Yarn")," or ",(0,l.mdx)("a",{parentName:"p",href:"https://www.npmjs.com/"},"npm"),"."),(0,l.mdx)(r.default,{groupId:"npm2yarn",mdxType:"Tabs"},(0,l.mdx)(o.default,{value:"npm",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"npm install --save-dev flow-remove-types\n"))),(0,l.mdx)(o.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"yarn add --dev flow-remove-types\n")))),(0,l.mdx)("p",null,"If you then put all your source files in a ",(0,l.mdx)("inlineCode",{parentName:"p"},"src")," directory you can compile them\nto another directory by running:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-sh"},"./node_modules/.bin/flow-remove-types src/ -d lib/\n")),(0,l.mdx)("p",null,"You can add this to your ",(0,l.mdx)("inlineCode",{parentName:"p"},"package.json")," scripts easily, alongside your ",(0,l.mdx)("inlineCode",{parentName:"p"},'"devDependencies"')," on ",(0,l.mdx)("inlineCode",{parentName:"p"},"flow-remove-types"),"."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "my-project",\n  "main": "lib/index.js",\n  "scripts": {\n    "build": "flow-remove-types src/ -d lib/",\n    "prepublish": "yarn run build"\n  }\n}\n')),(0,l.mdx)("blockquote",null,(0,l.mdx)("p",{parentName:"blockquote"},(0,l.mdx)("strong",{parentName:"p"},"Note:")," You'll probably want to add a ",(0,l.mdx)("inlineCode",{parentName:"p"},"prepublish")," script that runs this\ntransform as well, so that it runs before you publish your code to the npm\nregistry.")))),(0,l.mdx)("h2",{id:"setup-flow"},"Setup Flow"),(0,l.mdx)("p",null,"Flow works best when installed per-project with explicit versioning rather than\nglobally."),(0,l.mdx)("p",null,"Luckily, if you're already familiar with ",(0,l.mdx)("inlineCode",{parentName:"p"},"npm")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"yarn"),", this process should\nbe pretty familiar!"),(0,l.mdx)("h3",{id:"add-a-devdependency-on-the-flow-bin-npm-package"},"Add a ",(0,l.mdx)("inlineCode",{parentName:"h3"},"devDependency")," on the ",(0,l.mdx)("inlineCode",{parentName:"h3"},"flow-bin")," npm package"),(0,l.mdx)(r.default,{groupId:"npm2yarn",mdxType:"Tabs"},(0,l.mdx)(o.default,{value:"npm",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"npm install --save-dev flow-bin\n"))),(0,l.mdx)(o.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"yarn add --dev flow-bin\n")))),(0,l.mdx)("h3",{id:"add-a-flow-script-to-your-packagejson"},"Add a ",(0,l.mdx)("inlineCode",{parentName:"h3"},'"flow"')," script to your ",(0,l.mdx)("inlineCode",{parentName:"h3"},"package.json")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "my-flow-project",\n  "version": "1.0.0",\n  "devDependencies": {\n    "flow-bin": "^0.246.0"\n  },\n  "scripts": {\n    "flow": "flow"\n  }\n}\n')),(0,l.mdx)("h3",{id:"run-flow"},"Run Flow"),(0,l.mdx)("p",null,"The first time, run:"),(0,l.mdx)(r.default,{groupId:"npm2yarn",mdxType:"Tabs"},(0,l.mdx)(o.default,{value:"npm",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"npm run flow init\n"))),(0,l.mdx)(o.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"yarn run flow init\n")))),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre"},'> my-flow-project@1.0.0 flow /Users/Projects/my-flow-project\n> flow "init"\n')),(0,l.mdx)("p",null,"After running ",(0,l.mdx)("inlineCode",{parentName:"p"},"flow")," with ",(0,l.mdx)("inlineCode",{parentName:"p"},"init")," the first time, run:"),(0,l.mdx)(r.default,{groupId:"npm2yarn",mdxType:"Tabs"},(0,l.mdx)(o.default,{value:"npm",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"npm run flow\n"))),(0,l.mdx)(o.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-bash"},"yarn run flow\n")))),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre"},"> my-flow-project@1.0.0 flow /Users/Projects/my-flow-project\n> flow\n\nNo errors!\n")),(0,l.mdx)("h2",{id:"setup-eslint"},"Setup ESLint"),(0,l.mdx)("p",null,"If you use ESLint, you can read ",(0,l.mdx)("a",{parentName:"p",href:"../tools/eslint"},"our page on ESLint")," to set it up to support Flow."))}c.isMDXComponent=!0}}]);