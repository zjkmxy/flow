"use strict";(self.webpackChunknew_website=self.webpackChunknew_website||[]).push([[2252],{62252:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>p});var n=o(58168),s=(o(96540),o(15680));o(60681);const t={title:"Error Suppressions",slug:"/errors",description:"Learn how to suppress Flow's type errors."},i=void 0,a={unversionedId:"errors/index",id:"errors/index",title:"Error Suppressions",description:"Learn how to suppress Flow's type errors.",source:"@site/docs/errors/index.md",sourceDirName:"errors",slug:"/errors",permalink:"/en/docs/errors",draft:!1,editUrl:"https://github.com/facebook/flow/edit/main/website/docs/errors/index.md",tags:[],version:"current",frontMatter:{title:"Error Suppressions",slug:"/errors",description:"Learn how to suppress Flow's type errors."},sidebar:"docsSidebar",previous:{title:"Creating Library Definitions",permalink:"/en/docs/libdefs/creation"},next:{title:"Linting Overview",permalink:"/en/docs/linting"}},l={},p=[{value:"What is a Suppression?",id:"toc-what-is-a-suppression",level:3},{value:"Making Suppressions More Granular with Error Codes",id:"toc-making-suppressions-more-granular-with-error-codes",level:3}],m={toc:p};function d(e){let{components:r,...o}=e;return(0,s.mdx)("wrapper",(0,n.A)({},m,o,{components:r,mdxType:"MDXLayout"}),(0,s.mdx)("p",null,"Flow reports many different kinds of errors for many common programming mistakes, but not every JavaScript pattern can be understood by Flow.\nIf you are confident your code is correct, and that Flow is\nerroring too conservatively, you can suppress the error so that\nFlow does not report it."),(0,s.mdx)("h3",{id:"toc-what-is-a-suppression"},"What is a Suppression?"),(0,s.mdx)("p",null,"A suppression is a special kind of comment that you can place on the line before a type\nerror. It tells Flow not to report that error when checking your code. Suppression\ncomments look like the following:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre"},"// <SUPPRESSOR>[<CODE>] extra text\n")),(0,s.mdx)("p",null,"A suppressor can be one of the following:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"$FlowFixMe"),": for type errors that you intend to fix later"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"$FlowIssue"),": for a type error that you suspect is an issue with Flow"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"$FlowExpectedError"),": for a location where you expect Flow to produce a type error (for instance, when performing an invalid type cast)."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"$FlowIgnore"),": for locations where you want Flow to ignore your code")),(0,s.mdx)("p",null,"Note that all of the suppressors behave identically; we simply recommend using them as described here for your own ease of reference."),(0,s.mdx)("p",null,"The ",(0,s.mdx)("inlineCode",{parentName:"p"},"<CODE>")," portion of a suppression is optional, but when included specifies which ",(0,s.mdx)("a",{parentName:"p",href:"#toc-making-suppressions-more-granular-with-error-codes"},"error code")," the suppression affects."),(0,s.mdx)("p",null,"Some examples of suppression comments:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre"},"// $FlowFixMe\n\n// $FlowIssue[incompatible-type]\n\n/* $FlowIgnore[prop-missing] some other text here */\n\n/* $FlowFixMe[incompatible-cast] this\n    is a multi-line\n    comment */\n\n{ /* $FlowIssue this is how you suppress errors inside JSX */ }\n")),(0,s.mdx)("p",null,"In order to be a valid suppression comment, there are also some conditions that must be true:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"No text can precede the suppressor, or come between the suppressor and the code. For example: ",(0,s.mdx)("inlineCode",{parentName:"li"},"// some text then $FlowFixMe")," is not a valid suppression, nor is ",(0,s.mdx)("inlineCode",{parentName:"li"},"// $FlowIssue some text [incompatible-type]")," or ",(0,s.mdx)("inlineCode",{parentName:"li"}," //$FlowFixMe [prop-missing]")," (note the space here!)."),(0,s.mdx)("li",{parentName:"ul"},"Suppressions must be on the line immediately before the error they suppress, otherwise they will not apply.")),(0,s.mdx)("h3",{id:"toc-making-suppressions-more-granular-with-error-codes"},"Making Suppressions More Granular with Error Codes"),(0,s.mdx)("p",null,"Suppressible Flow errors will also have an error code associated with them (after version 0.127). This code concisely describes the type of issue the error is reporting, and is different between different kinds of errors."),(0,s.mdx)("p",null,"In order to prevent suppressions from suppressing different kinds of type errors on the same line (by default suppressions without codes suppress every error on the following line), you can add an error code to your suppression. For example: ",(0,s.mdx)("inlineCode",{parentName:"p"},"// $FlowFixMe[incompatible-cast]")," would only suppress errors with the ",(0,s.mdx)("inlineCode",{parentName:"p"},"incompatible-cast")," code. So:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"// $FlowFixMe[incompatible-cast]\n3 as string;\n")),(0,s.mdx)("p",null,"would report no errors, but"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-flow",metastring:'[{"startLine":2,"startColumn":1,"endLine":2,"endColumn":1,"description":"Cannot cast `3` to string because number [1] is incompatible with string [2]. [incompatible-cast]"}]','[{"startLine":2,"startColumn":1,"endLine":2,"endColumn":1,"description":"Cannot':!0,cast:!0,"`3`":!0,to:!0,string:!0,because:!0,number:!0,"[1]":!0,is:!0,incompatible:!0,with:!0,"[2].":!0,'[incompatible-cast]"}]':!0},"// $FlowFixMe[prop-missing]\n3 as string;\n")),(0,s.mdx)("p",null,"would still report a type incompatibility."),(0,s.mdx)("p",null,"To suppress multiple error codes on the same line, you can stack suppression comments one after another, and they will all apply to the first non-comment line like so:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-flow",metastring:"[]","[]":!0},"let y: number | {x : number}  = 1;\n\n// $FlowFixMe[incompatible-cast]\n// $FlowFixMe[prop-missing]\ny.x as string;\n")),(0,s.mdx)("p",null,"This will suppress both of the two errors on this line."))}d.isMDXComponent=!0}}]);